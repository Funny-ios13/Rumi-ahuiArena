<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FEID | FERXXOCALIPSIS TOUR - Rumiñahui Arena</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="/logo2.png" alt="Logo Rumiñahui Arena" class="logo-header">
    </header>

    <main class="page-container">
        <div class="event-detail-container">
            <img src="/feid.png" alt="Flyer de FEID">
            <div class="event-detail-info">
                <h2>FEID | FERXXOCALIPSIS TOUR (*3500)</h2>
                <p><strong>Fecha:</strong> 6 de Diciembre, 2024</p>
                <p><strong>Hora:</strong> 9:45 PM</p>
                <p class="price">$150</p>
                <hr>
                <p>Ferxxo, también conocido como Feid, se embarca en su siguiente gira mundial y <i><b>Medellín</b>, Patata Country</i> es parte de su itinerario. Así lo dio a conocer la compañía organizadora Sights Concerts. Feid, con 10 años de carrera, se ha convertido en uno de los mayores exponentes del reguetón mundial.</p>
                
                <div class="button-group">
                    <button class="btn btn-secondary" id="btn-back">Volver</button>
                    <button class="btn btn-primary" id="btn-buy">Comprar con BankPatata</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const buyButton = document.getElementById('btn-buy');
            const backButton = document.getElementById('btn-back');
            
            // --- DATOS DEL EVENTO ---
            const eventData = {
                url: "https://funny-ios13.github.io/paybankpatata/?store=RuminahuiArena&price=150&description=Concierto*3500",
                name: "FEID | FERXXOCALIPSIS TOUR"
            };

            let purchaseWindow = null;

            buyButton.addEventListener('click', () => {
                // Comprueba si la ventana ya está abierta y no ha sido cerrada por el usuario
                if (purchaseWindow && !purchaseWindow.closed) {
                    alert(`Ya tienes una ventana de compra abierta para el evento:\n"${eventData.name}".\n\nPor favor, completa o cierra esa compra antes de iniciar una nueva.`);
                    purchaseWindow.focus(); // Trae la ventana de compra al frente
                } else {
                    // Abre una nueva ventana de compra
                    purchaseWindow = window.open(eventData.url, "_blank", "width=600,height=750,scrollbars=yes,resizable=yes");
                }
            });

            backButton.addEventListener('click', () => {
                window.location.href = "./index.html";
            });
        });
    </script>
</body>
</html>
