<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumiñahui Arena</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="images/logo2.png" class="logo-header">
    </header>

    <div class="container announcement-container">
        
        <div class="announcement">
            <img src="images/tiago.png">
            <div class="announcement-details">
                <h2>TIAGO PZK | GOTIA TOUR</h2>
                <p>Fecha: 19 de Septiembre, 2024</p>
                <p>Hora: 9:00 PM</p>
                <p class="price">Precio: $50</p>
                
                <hr>
                <br>
                <p>Tiago PZK se acaba de embarcar en su primera gira mundial y <b>Medellín</b>, Patata Country es parte de su itinerario. Así lo dio a conocer la compañía organizadora del evento Sights Concerts. Tiago Uriel Pacheco Lescano tiene 22 años y desde los 15 su talento lo hizo resaltar del talento que participaba en las batallas de trap.</p>
                <button class="announcement-buy" id="but-buy">
                    Comprar con BankPatata
                </button>
                <button class="announcement-back" id="but-back">
                    Volver
                </button>
            </div>
        </div>
        </div>
    
<!--
    <footer>
        <p>&copy; 2024 Rumiñahui Arena. Todos los derechos reservados.</p>
    </footer>
-->
    <script>
        let myWindow;

    function openWin() {
        myWindow = window.open("https://paybankpatata.mcpatatacountry.com?store=RumiñahuiArena&price=50&description=RUMIÑAHUI-ARENA-TiagoPZKConcierto", "_blank", "width=700, height=700");
    }

    function closeWin() {
        myWindow.close();
        }
       const buyBankPatata = document.getElementById("but-buy");
       const back = document.getElementById("but-back");
       let allowed = "true"
        // Añadir event listener para el clic en el anuncio temporal
        
        buyBankPatata.addEventListener('click', () => {
            /*if (window.closed === false) {
                openWin()
            } else {
                closeWin()
            }*/
           if (allowed == "true") {
            openWin()
            allowed = "false"
           } else {
            if (confirm("Tienes una compra en progreso.\n¿Deseas abandonarla?") == true) {
                closeWin()
                allowed = "true"
            } else {
                return;
            }
           }

            // Aquí puedes añadir la lógica adicional que necesites para manejar el clic en el anuncio
        });
        back.addEventListener('click', () => {
            window.location.href = "./index.html"
            // Aquí puedes añadir la lógica adicional que necesites para manejar el clic en el anuncio
        });

        
    </script>
</body>
</html>
